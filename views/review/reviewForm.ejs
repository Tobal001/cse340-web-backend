<% const isEditing = typeof review !== 'undefined'; %>

<h2><%= isEditing ? 'Edit Your Review' : 'Leave a Review' %></h2>
<%- messages() %>
<form action="<%= isEditing ? '/review/update/' + review.review_id : '/review/post' %>" method="POST">
  <!-- Hidden fields -->
  <input type="hidden" name="inv_id" value="<%= isEditing ? inv_id : inv_id %>">
  <input type="hidden" name="account_id" value="<%= isEditing ? account_id : account_id %>">

  <!-- Rating -->
  <label for="review_rating">Rating (1â€“5):</label>
  <input type="number" id="review_rating" name="review_rating" min="1" max="5" required
    value="<%= isEditing ? review.review_rating : (typeof review_rating !== 'undefined' ? review_rating : '') %>">

  <!-- Text -->
  <label for="review_text">Your Review:</label>
  <textarea id="review_text" name="review_text" rows="5" required><%= isEditing ? review.review_text : (typeof review_text !== 'undefined' ? review_text : '') %></textarea>

  <button type="submit"><%= isEditing ? 'Update Review' : 'Submit Review' %></button>
</form>